# ============================================================================
# HUGINBOT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your values
# For detailed setup instructions, see: docs/discord-setup.md and docs/aws-setup.md
#
# QUICK START - Minimum Required Settings:
# ----------------------------------------
# 1. AWS Setup (see docs/aws-setup.md):
#    - Install AWS CLI: https://aws.amazon.com/cli/
#    - Run: aws configure
#    - Set AWS_REGION below to match your chosen region
#
# 2. Discord Setup (see docs/discord-setup.md):
#    - Create app: https://discord.com/developers/applications
#    - Fill in DISCORD_APP_ID, DISCORD_BOT_PUBLIC_KEY, DISCORD_BOT_SECRET_TOKEN
#
# 3. Configure at least one world (see WORLD_1_* settings below)
#
# 4. Deploy: npm run deploy
# ============================================================================

# === AWS CONFIGURATION ===
# Region where your Valheim server will run
# Popular choices: us-west-2, us-east-1, eu-west-1
# Choose region closest to players for best latency
AWS_REGION=us-west-2

# AWS profile to use (usually "default")
AWS_PROFILE=default

# === CUSTOM DOMAIN (OPTIONAL) - ROUTE 53 ===
# Instead of using join codes, players can connect via a custom domain
# Requires: Domain in Route 53 or delegated to Route 53
# Cost: $0.50/month for hosted zone (DNS queries are negligible ~$0.001/month)
# Example: valheim.yourdomain.com
# CUSTOM_URL=myValheimURL.net

# === SERVER-WIDE SETTINGS ===
# Server name shown in server browser and Discord messages
VALHEIM_SERVER_NAME="My Valheim Server"

# Additional arguments passed to Valheim server
# -crossplay enables crossplay between PC and Xbox
VALHEIM_SERVER_ARGS="-crossplay"

# Enable BepInEx mod framework (required for most mods)
# See: https://valheim.thunderstore.io/
VALHEIM_BEPINEX=true

# Steam IDs for server administrators (space-separated)
# Find your Steam ID: https://steamid.io/
VALHEIM_ADMIN_IDS="76561198xxx 7656119yyy"

# Whether to update Valheim server when no players are online
VALHEIM_UPDATE_IF_IDLE=false

# Auto-shutdown: Minutes of idle time before server stops automatically
# Set to "off" or "disabled" to keep server running indefinitely
# Default: 20 minutes (saves costs when players forget to /stop)
AUTO_SHUTDOWN_MINUTES=20

# AWS EC2 instance type - affects performance and cost
# t3.small  = $0.02/hr (1-2 players, minimal)
# t3.medium = $0.04/hr (2-5 players, recommended)
# t3.large  = $0.08/hr (5-10 players, optimal)
VALHEIM_INSTANCE_TYPE=t3.medium

# === WORLD CONFIGURATIONS ===
# Each world is configured with a set of indexed variables (starting from 1)
# You can configure multiple worlds for different Discord servers or friend groups
# Only one world can be active at a time - switch with /worlds switch in Discord
#
# To get your Discord Server ID:
# 1. Enable Developer Mode in Discord (User Settings > Advanced)
# 2. Right-click your server icon and select "Copy Server ID"

# World 1 - Main World (REQUIRED - at least one world needed)
WORLD_1_NAME=MainWorld                      # Display name (used in menus/logs)
WORLD_1_WORLD_NAME=Midgard                  # Save file name in Valheim
WORLD_1_PASSWORD=valheim                    # Server password (min 5 characters)
WORLD_1_DISCORD_ID=123456789012345678       # Discord server that controls this world

# World 2 - Alternative world (OPTIONAL - add more as needed)
# Uncomment and configure if you want multiple worlds
# WORLD_2_NAME=AltWorld
# WORLD_2_WORLD_NAME=Asgard
# WORLD_2_PASSWORD=viking123
# WORLD_2_DISCORD_ID=876543210987654321

# Total number of configured worlds (update if you add/remove worlds)
WORLD_COUNT=1

# === DISCORD SETTINGS ===
# **REQUIRED** - See docs/discord-setup.md for detailed setup instructions
#
# Get these values from: https://discord.com/developers/applications
# 1. Create a new application (or select existing)
# 2. General Information > Application ID (18-19 digit number)
# 3. General Information > Public Key (64 character hex string)
# 4. Bot > Reset Token > Copy token (starts with "MTI..." or similar)
#
# ⚠️  SECURITY: Never commit these values to Git! Keep .env in .gitignore

# Application ID - found in Discord Developer Portal > General Information
DISCORD_APP_ID=123456789012345678

# Public Key - found in Discord Developer Portal > General Information
# Used to verify Discord requests are authentic
DISCORD_BOT_PUBLIC_KEY=abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890

# Bot Secret Token - found in Discord Developer Portal > Bot > Token
# ⚠️  KEEP THIS SECRET! Reset immediately if leaked
DISCORD_BOT_SECRET_TOKEN=your-discord-bot-token-here


# === BACKUP SETTINGS ===
# HuginBot uses a dual backup system for maximum reliability:
# 1. Docker container backups (frequent, short-term)
# 2. S3 long-term backups (daily, retained longer)

# S3 Long-term Backup Settings
BACKUPS_TO_KEEP=7                        # Number of S3 backups to keep per world
BACKUP_FREQUENCY_HOURS=24                # How often to create S3 backups (daily)

# === DOCKER CONTAINER CONFIGURATION ===
# HuginBot uses lloesche/valheim-server-docker: https://github.com/lloesche/valheim-server-docker
#
# Any environment variable from the Docker container can be configured here using DOCKER_ prefix
# See full documentation: https://github.com/lloesche/valheim-server-docker#environment-variables
#
# Below are common settings. You can add ANY variable from the Docker docs using DOCKER_ prefix.
# Examples:
#   - DOCKER_BACKUP_CRON (shown below)
#   - DOCKER_UPDATE_CRON="*/15 * * * *"
#   - DOCKER_RESTART_CRON="0 5 * * *"
#   - DOCKER_TZ="America/Los_Angeles"
# Full list: https://github.com/lloesche/valheim-server-docker#environment-variables

# Docker Container Backup Settings (Applied to all worlds unless overridden)
DOCKER_BACKUP_CRON="0 */2 * * *"         # Backup schedule (cron format, default: every 2 hours)
DOCKER_BACKUP_MAX_COUNT=12               # Number of container backups to keep (12 = 24hr with 2hr schedule)
DOCKER_BACKUP_MAX_AGE=1440               # Max backup age in minutes (1440 = 24 hours)
DOCKER_BACKUP_IF_IDLE=false              # If true, only backup when players are active
DOCKER_BACKUP_IDLE_GRACE=60              # Minutes to wait after last player disconnect before backup
DOCKER_BACKUP_COMPRESS=true              # Compress backups to .tar.gz (recommended)

# Other useful Docker container settings (uncomment to use):
# DOCKER_UPDATE_CRON="*/15 * * * *"      # Check for Valheim updates every 15 min
# DOCKER_RESTART_CRON="0 5 * * *"        # Restart server daily at 5am
# DOCKER_TZ="America/New_York"           # Timezone for logs and cron schedules
# DOCKER_SUPERVISOR_HTTP=true            # Enable supervisor web UI on port 9001
# DOCKER_STEAMCMD_ARGS="validate"        # Validate game files on update

# === LEGACY WORLD CONFIGURATION (DEPRECATED) ===
# This format is deprecated, use the indexed format above instead
# Format: name,discord_server_id,world_name,server_password
# WORLD_CONFIGURATIONS=World1,123456789012345678,Midgard,password1;World2,876543210987654321,Asgard,password2
